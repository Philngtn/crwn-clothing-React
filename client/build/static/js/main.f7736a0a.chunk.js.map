{"version":3,"sources":["assets/crown.svg","redux/directory/directory.selector.js","components/menu-item/menu-item.component.jsx","components/directory/directory.component.jsx","pages/homepage/homepage.style.jsx","pages/homepage/homepage.component.jsx","redux/shop/shop.type.js","redux/shop/shop.action.js","redux/shop/shop.selector.js","components/with-spinner/with-spinner.style.jsx","components/with-spinner/with-spinner.component.jsx","redux/cart/cart.type.js","redux/cart/cart.action.js","components/custom-button/custom-button.style.jsx","components/custom-button/custom-button.component.jsx","components/collection-item/collection-item.style.jsx","components/collection-item/collection-item.component.jsx","components/collection-preview/collection-preview.style.jsx","components/collection-preview/collection-preview.component.jsx","components/collection-overview/collection-overview.component.jsx","components/collection-overview/collection-overview.container.jsx","pages/collection/collection.component.jsx","pages/collection/collection.container.jsx","pages/shop/shop.component.jsx","assets/shopping-bag.svg","redux/cart/cart.selectors.js","components/cart-icon/cart-icon.component.jsx","components/cart-item/cart-item.component.jsx","components/cart/cart-dropdown.component.jsx","redux/user/user.selectors.js","components/header/header.style.jsx","redux/user/user.type.js","redux/user/user.action.js","components/header/header.component.jsx","components/form-input/form-input.component.jsx","components/sign-in/sign-in.component.jsx","components/sign-up/sign-up.component.jsx","components/signin-and-signout/sign-in-and-sign-up.component.jsx","components/checkout-item/checkout-item.component.jsx","components/stripe-button/stripe-button.component.jsx","pages/checkout/checkout.component.jsx","App.js","redux/user/user.reducer.js","redux/cart/cart.utils.js","redux/cart/cart.reducer.js","redux/directory/directory.reducer.js","redux/shop/shop.reducer.js","redux/root-reducer.js","firebase/filebase.utils.js","redux/shop/shop.sagas.js","redux/user/user.sagas.js","redux/cart/cart.sagas.js","redux/root-saga.js","redux/store.js","index.js"],"names":["_desc","_g","selectDirectorySections","createSelector","state","directory","sections","withRouter","title","imageUrl","size","history","linkUrl","match","className","onClick","push","url","style","backgroundImage","toUpperCase","mapStateToProps","createStructuredSelector","connect","map","id","otherSectionProps","HomePageContainer","styled","div","HomePage","ShopActionTypes","FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTIONS_FAILURE","fetchCollectionsSuccess","collectionsMap","type","payload","selectShop","shop","selectCollections","collections","selectCollectionsForPreview","Object","keys","key","selectCollection","memorize","collectionUrlParam","selectIsCollectionFetching","isFetching","selectIsCollectionsLoaded","SpinnerOverlay","SpinnerContainer","WithSpinner","WrappedComponent","isLoading","otherProps","CartActionTypes","TOGGLE_CART_HIDDEN","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM_FROM_CART","CLEAR_CART","toggleCartHidden","addItem","item","buttonStyles","css","invertedButtonStyles","googleSignInStyles","CustomButtonContainer","button","props","isGoogleSignIn","inverted","CustomButton","children","CollectionItemContainer","AddButton","BackgroundImage","CollectionFooterContainer","NameContainer","span","PriceContainer","dispath","name","price","CollectionPreviewContainer","TitleContainer","h1","PreviewContainer","items","routeName","path","filter","idx","other","CollectionsOverviewContainer","compose","CollectionsOverview","ownProps","collection","params","collectionId","CollectionPageContainer","CollectionPage","dispatch","fetchCollectionsStart","useEffect","exact","component","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCrown","_ref","svgRef","titleId","width","height","viewBox","xmlns","xmlnsXlink","ref","undefined","stroke","strokeWidth","fill","fillRule","transform","points","fillOpacity","cx","cy","r","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","ForwardRef","SvgShoppingBag","x","y","enableBackground","xmlSpace","d","selectCart","cart","selectCartItems","cartItems","selectCartHidden","hidden","selectCartItemsCount","reduce","accumalatedQuantity","cartItem","quantity","selectCartTotal","itemCount","CartItem","src","alt","selectCurrentUser","user","currentUser","HeaderContainer","LogoContainer","Link","OptionsContainer","OptionLink","UserActionTypes","SET_CURRENT_USER","GOOGLE_SIGN_IN_START","EMAIL_SIGN_IN_START","SIGN_IN_SUCCESS","SIGN_IN_FAILURE","CHECK_USER_SESSION","SIGN_OUT_START","SIGN_OUT_SUCCESS","SIGN_OUT_FAILURE","SIGN_UP_START","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","signInFailure","error","signUpSuccess","addtionalData","signOutStart","to","as","FormInput","handleChange","label","onChange","value","googleSignInStart","emailSignInStart","email","password","useState","userCredentials","setCredentitals","handleSubmit","event","a","preventDefault","handelChange","onSubmit","required","signUpStart","displayName","confirmPassword","setCredentials","alert","SignInAndSignUpPage","clearItem","clearItemFromCart","removeItem","StripeCheckoutButton","priceForStripe","billingAddress","shippingAddress","image","description","amount","panelLabel","token","axios","method","data","then","response","catch","console","log","JSON","stripeKey","total","checkUserSession","ShopPage","CheckoutPage","render","INITIAL_STATE","userReducer","action","addItemToCart","cartItemToAdd","find","removeItemFromCart","cartItemToRemove","cartReducer","directoryReducer","errorMessage","shopReducer","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","createUserProfileDocument","userAuth","additionalData","userRef","firestore","doc","uid","get","exists","createdAt","Date","set","message","convertCollectionsSnapshotToMap","docs","encodeURI","toLowerCase","accumulator","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","googleProvider","GoogleAuthProvider","setCustomParameters","propmt","fetchCollectionsAsync","shopSagas","collectionRef","snapshot","put","takeLatest","all","getSnapshotFromUserAuth","signInWithGoole","signInWithEmail","isUserAuthenticated","signOut","signUp","signInAfterSignUp","onGoolgeSignInStart","onEmailSignInStart","onSignOutStart","onSignUpStart","onSignUpSuccess","userSagas","userSnapShot","signInWithPopup","signInWithEmailAndPassword","Promise","resolve","reject","unsubscribe","onAuthStateChanged","createUserWithEmailAndPassword","clearCartOnSignOut","onSignOutSuccess","cartSagas","rootSaga","sagaMiddleware","createSagaMiddleware","middlewares","store","createStore","applyMiddleware","run","persistor","persistStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f7736a0a.chunk.js","sourcesContent":["var _desc, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCrown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"50px\",\n    height: \"39px\",\n    viewBox: \"0 0 50 39\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Group\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"WiP\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Artboard\",\n    transform: \"translate(-90.000000, -38.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group\",\n    transform: \"translate(90.000000, 38.000000)\"\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    id: \"Rectangle\",\n    fill: \"#808282\",\n    points: \"3 14 25 26.5 47 14 40.855176 39 9.08421785 39\"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    id: \"Triangle\",\n    fillOpacity: 0.262838724,\n    fill: \"#101A1A\",\n    points: \"25 8 40 39 10 39\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"Oval\",\n    fill: \"#5E6363\",\n    cx: 2,\n    cy: 9,\n    r: 2\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"Oval\",\n    fill: \"#5E6363\",\n    cx: 25,\n    cy: 2,\n    r: 2\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"Oval\",\n    fill: \"#5E6363\",\n    cx: 48,\n    cy: 9,\n    r: 2\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCrown);\nexport default __webpack_public_path__ + \"static/media/crown.3a4e2b15.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from \"reselect\";\r\n\r\nconst selectDirectory = state => state.directory;\r\n\r\nexport const selectDirectorySections = createSelector(\r\n    [selectDirectory],\r\n    directory => directory.sections\r\n)","import React from 'react';\r\nimport './menu-item.style.scss';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\nconst MenuItem = ({ title, imageUrl, size, history, linkUrl, match }) => (\r\n    <div className={`${size} menu-item`} onClick={() => history.push(`${match.url}${linkUrl}`)}>\r\n        <div\r\n            className='background-image'\r\n            style={{\r\n                backgroundImage: `url(${imageUrl})`\r\n            }}\r\n        />\r\n        <div className='content'>\r\n            <h1 className='title'>{title.toUpperCase()}</h1>\r\n            <span className='subtitle'>SHOP NOW</span>\r\n        </div>\r\n    </div>\r\n)\r\n\r\n// withRouter will allow the MenuItem access to the props added by <Router> which are history, match, and location\r\n// The <Router> renders Homepage -> Directory -> MenuItem\r\nexport default withRouter(MenuItem)","import React from 'react';\r\nimport './directory.style.scss';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { selectDirectorySections } from '../../redux/directory/directory.selector';\r\n\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport MenuItem from '../menu-item/menu-item.component'\r\n\r\nconst Directory = ({ sections }) => (\r\n\r\n  <div className='directory-menu'>\r\n    {/* Using the otherSectionProps to save space  */}\r\n    {sections.map(({ id, ...otherSectionProps }) => (\r\n      <MenuItem key={id} {...otherSectionProps} />\r\n    ))}\r\n  </div>\r\n)\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  sections: selectDirectorySections\r\n})\r\n\r\nexport default connect(mapStateToProps)(Directory);","import styled from 'styled-components';\r\n\r\nexport const HomePageContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 20px 80px;\r\n`;\r\n\r\n","import React from 'react';\r\nimport Directory from '../../components/directory/directory.component'\r\n\r\nimport './homepage.style.scss'\r\nimport { HomePageContainer } from './homepage.style';\r\n\r\nconst HomePage = () => (\r\n    <HomePageContainer>\r\n        <Directory />\r\n    </HomePageContainer>\r\n\r\n)\r\n\r\nexport default HomePage;","const ShopActionTypes = {\r\n    FETCH_COLLECTIONS_START : 'FETCH_COLLECTIONS_START',\r\n    FETCH_COLLECTIONS_SUCCESS: 'FETCH_COLLECTIONS_SUCCESS',\r\n    FETCH_COLLECTIONS_FAILURE: 'FETCH_COLLECTIONS_FAILURE'\r\n};\r\n\r\nexport default ShopActionTypes;","import ShopActionTypes from \"./shop.type\";\r\n\r\n\r\nexport const fetchCollectionsStart = () => ({\r\n    type: ShopActionTypes.FETCH_COLLECTIONS_START,\r\n});\r\n\r\nexport const fetchCollectionsSuccess = (collectionsMap) => ({\r\n    type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n    payload: collectionsMap\r\n})\r\n\r\nexport const fetchCollectionsFailure = errorMessage => ({\r\n    type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n    payload: errorMessage\r\n})\r\n\r\n// Redux thunk is a function return a function,\r\n// Redux thunk only interest in function not object such as fetchCollectionsSuccess\r\n","import { createSelector } from \"reselect\";\r\nimport memorize from 'lodash.memoize';\r\n\r\nconst selectShop = state => state.shop;\r\n\r\nexport const selectCollections = createSelector(\r\n    [selectShop],\r\n    shop => shop.collections\r\n);\r\n\r\nexport const selectCollectionsForPreview = createSelector(\r\n    [selectCollections],\r\n    collections => collections ? Object.keys(collections).map(key => collections[key]) : [] \r\n);\r\n\r\n\r\nexport const selectCollection = memorize((collectionUrlParam) => createSelector(\r\n    [selectCollections],\r\n    collections => (collections ? collections[collectionUrlParam] : null)\r\n));\r\n\r\n//  our selectCollection function we just wrote is not memoized due to collectionUrlParam being passed in from our collection \r\n// component's mapStateToProps running whenever our state changes and and calling \r\n// a new instance of our selectCollection function. In this case collectionUrlParam is a dynamic argument meaning it can change,\r\n//  so to memoize selectCollection we actually have to memoize the whole function using a memoize helper function.  \r\n// We can leverage the lodash library, specifically their memoize helper function by adding it our packages like so:\r\n\r\n// By wrapping this function is memoize(), we're saying that whenever this function gets called and receives collectionUrlParam, \r\n// I want to memoize the return of this function (in this case we return a selector). \r\n// If this function gets called again with the same collectionUrlParam, \r\n// don't rerun this function because we'll return the same value as last time, which we've memoized so just return \r\n// the selector that's been stored.\r\n\r\nexport const selectIsCollectionFetching = createSelector(\r\n    [selectShop],\r\n    shop => shop.isFetching\r\n);\r\n\r\nexport const selectIsCollectionsLoaded = createSelector(\r\n    [selectShop],\r\n    shop => !!shop.collections\r\n    // !! will convert all thing to false except an object {}\r\n);","import styled from 'styled-components';\r\n\r\nexport const SpinnerOverlay = styled.div`\r\n  height: 60vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SpinnerContainer = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  border: 3px solid rgba(195, 195, 195, 0.6);\r\n  border-radius: 50%;\r\n  border-top-color: #636767;\r\n  animation: spin 1s ease-in-out infinite;\r\n  -webkit-animation: spin 1s ease-in-out infinite;\r\n  @keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n  @-webkit-keyframes spin {\r\n    to {\r\n      -webkit-transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { SpinnerContainer, SpinnerOverlay } from \"./with-spinner.style\";\r\n\r\nconst WithSpinner = WrappedComponent => {\r\n\r\n    const Spinner = ({ isLoading, ...otherProps }) => {\r\n\r\n        return isLoading ? (\r\n            <SpinnerOverlay>\r\n                <SpinnerContainer />\r\n            </SpinnerOverlay>\r\n        ) : (\r\n            <WrappedComponent {...otherProps} />\r\n        );\r\n    };\r\n\r\n    return Spinner;\r\n\r\n};\r\n\r\nexport default WithSpinner;","const CartActionTypes = {\r\n    TOGGLE_CART_HIDDEN: 'TOGGLE_CART_HIDDEN',\r\n    ADD_ITEM: 'ADD_ITEM',\r\n    REMOVE_ITEM: 'REMOVE_ITEM',\r\n    CLEAR_ITEM_FROM_CART: 'CLEAR_ITEM_FROM_CART',\r\n    CLEAR_CART: 'CLEAR_CART'\r\n};\r\n\r\nexport default CartActionTypes;","import CartActionTypes from \"./cart.type\";\r\n\r\nexport const toggleCartHidden = () => ({\r\n    type: CartActionTypes.TOGGLE_CART_HIDDEN\r\n});\r\n\r\n\r\nexport const addItem = item => ({\r\n    type: CartActionTypes.ADD_ITEM,\r\n    payload: item\r\n});\r\n\r\nexport const removeItem = item => ({\r\n    type: CartActionTypes.REMOVE_ITEM,\r\n    payload: item\r\n});\r\n\r\nexport const clearItemFromCart = item => ({\r\n    type: CartActionTypes.CLEAR_ITEM_FROM_CART,\r\n    payload: item\r\n});\r\n\r\nexport const clearCart = () => ({\r\n    type: CartActionTypes.CLEAR_CART\r\n});","import styled, { css } from 'styled-components';\r\n\r\nconst buttonStyles = css`\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n  \r\n  &:hover {\r\n    background-color: white;\r\n    color: black;\r\n    border: 1px solid black;\r\n  }\r\n`;\r\n\r\nconst invertedButtonStyles = css`\r\n  background-color: white;\r\n  color: black;\r\n  border: 1px solid black;\r\n  opacity: 0.5;\r\n  position: absolute;\r\n  margin-left: auto; \r\n  margin-right: auto; \r\n  left: 0; \r\n  right: 0;\r\n  bottom: 75px;\r\n  \r\n  &:hover {\r\n    background-color: black;\r\n    color: white;\r\n    border: none;\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst googleSignInStyles = css`\r\n  background-color: #4285f4;\r\n  color: white;\r\n  border: none;\r\n  &:hover {\r\n    background-color: #357ae8;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst getButtonStyles = props => {\r\n  if (props.isGoogleSignIn) {\r\n    return googleSignInStyles;\r\n  }\r\n\r\n  return props.inverted ? invertedButtonStyles : buttonStyles;\r\n};\r\n\r\nexport const CustomButtonContainer = styled.button`\r\n  min-width: 165px;\r\n  width: auto;\r\n  height: 50px;\r\n  letter-spacing: 0.5px;\r\n  line-height: 50px;\r\n  padding: 0 35px 0 35px;\r\n  font-size: 15px;\r\n  text-transform: uppercase;\r\n  font-family: 'Open Sans Condensed';\r\n  font-weight: bolder;\r\n  cursor: pointer;\r\n  justify-content: center;\r\n\r\n  ${getButtonStyles}\r\n`;\r\n\r\nexport default CustomButtonContainer;","import React from 'react';\r\n\r\nimport CustomButtonContainer from './custom-button.style'\r\n\r\nconst CustomButton = ({ children, ...otherProps }) => (\r\n    <CustomButtonContainer {...otherProps}>\r\n        {children}\r\n    </CustomButtonContainer>\r\n);\r\n\r\nexport default CustomButton;","import styled from 'styled-components';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nexport const CollectionItemContainer = styled.div`\r\n  width: 22vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 350px;\r\n  align-items: center;\r\n  position: relative;\r\n  &:hover {\r\n    .image {\r\n      opacity: 0.8;\r\n    }\r\n    button {\r\n      opacity: 0.85;\r\n      display: flex;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const AddButton = styled(CustomButton)`\r\n  width: 80%;\r\n  opacity: 0.7;\r\n  position: absolute;\r\n  top: 255px;\r\n  display: none;\r\n`;\r\n\r\nexport const BackgroundImage = styled.div`\r\n  width: 100%;\r\n  height: 95%;\r\n  background-size: cover;\r\n  background-position: center;\r\n  margin-bottom: 5px;\r\n  background-image: ${({ imageUrl }) => `url(${imageUrl})`};\r\n`;\r\n\r\nexport const CollectionFooterContainer = styled.div`\r\n  width: 100%;\r\n  height: 5%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 18px;\r\n`;\r\n\r\nexport const NameContainer = styled.span`\r\n  width: 90%;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nexport const PriceContainer = styled.span`\r\n  width: 10%;\r\n  text-align: right;\r\n`;","import React from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { addItem } from '../../redux/cart/cart.action';\r\n\r\nimport {\r\n    CollectionItemContainer,\r\n    CollectionFooterContainer,\r\n    AddButton,\r\n    BackgroundImage,\r\n    NameContainer,\r\n    PriceContainer\r\n} from './collection-item.style';\r\n\r\nconst CollectionItem = ({ item, addItem }) => {\r\n    const { name, price, imageUrl } = item;\r\n\r\n    return (\r\n        <CollectionItemContainer>\r\n            <BackgroundImage className='image' imageUrl={imageUrl} />\r\n            <CollectionFooterContainer>\r\n                <NameContainer>{name}</NameContainer>\r\n                <PriceContainer>${price}</PriceContainer>\r\n            </CollectionFooterContainer>\r\n            <AddButton onClick={() => addItem(item)} inverted>\r\n                Add to cart\r\n            </AddButton>\r\n        </CollectionItemContainer>\r\n    );\r\n};\r\n\r\n\r\nconst mapDispathToProps = dispath => ({\r\n    // This will create a method in this component called \r\n    // addItem and then pass the item as the props to the addItem(item) then dispath to the connect (rootReducer will find the valid functions for our action)\r\n    addItem: item => dispath(addItem(item))\r\n})\r\n\r\n\r\nexport default connect(null, mapDispathToProps)(CollectionItem)","import styled from 'styled-components';\r\n\r\nexport const CollectionPreviewContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nexport const TitleContainer = styled.h1`\r\n  font-size: 28px;\r\n  margin-bottom: 25px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: grey;\r\n  }\r\n`;\r\n\r\nexport const PreviewContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;","import React from 'react';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport './collection-preview.style.scss';\r\nimport CollectionItem from '../collection-item/collection-item.component';\r\n\r\nimport {\r\n    CollectionPreviewContainer,\r\n    TitleContainer,\r\n    PreviewContainer\r\n} from './collection-preview.style';\r\n\r\nconst CollectionPreview = ({ title, items, history, match, routeName }) => (\r\n    <CollectionPreviewContainer>\r\n        <TitleContainer onClick={() => history.push(`${match.path}/${routeName}`)}>\r\n            {title.toUpperCase()}\r\n        </TitleContainer>\r\n        <PreviewContainer>\r\n            {items\r\n                .filter((item, idx) => idx < 4)\r\n                // We use the item object not the whole ({id, ...other}) => (item) in the .map props\r\n                .map((item) => (\r\n                    <CollectionItem key={item.id} item={item} />\r\n                ))\r\n            }\r\n        </PreviewContainer>\r\n    </CollectionPreviewContainer>\r\n)\r\n\r\nexport default withRouter(CollectionPreview);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { createStructuredSelector } from 'reselect';\r\nimport './collection-overview.style.scss'\r\n\r\n\r\nimport CollectionPreview from '../collection-preview/collection-preview.component.jsx';\r\nimport { selectCollectionsForPreview } from '../../redux/shop/shop.selector.js';\r\n\r\n\r\n\r\nconst CollectionsOverview = ({ collections }) => (\r\n    <div className='collections-overview'>\r\n        {\r\n            collections.map(({ id, ...other }) => (\r\n                <CollectionPreview key={id} {...other} />\r\n            ))\r\n        }\r\n    </div>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    collections: selectCollectionsForPreview\r\n})\r\n\r\nexport default connect(mapStateToProps)(CollectionsOverview);","import { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"reselect\";\r\n\r\nimport { compose } from \"redux\";\r\n\r\nimport { selectIsCollectionFetching } from '../../redux/shop/shop.selector';\r\nimport WithSpinner from \"../with-spinner/with-spinner.component\";\r\nimport CollectionsOverview from '../collection-overview/collection-overview.component'\r\n\r\n// Remember to set the name of props (isLoading) similar to the props of the compose component \r\n// <WithSpinner isLoading={isLoading} />\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isLoading: selectIsCollectionFetching\r\n});\r\n\r\n// Compose will Wrap the CollectionOverview with WithSpinner then pass the state to the wrapped components\r\nconst CollectionsOverviewContainer = compose(\r\n    connect(mapStateToProps),\r\n    WithSpinner\r\n)(CollectionsOverview);\r\n\r\nexport default CollectionsOverviewContainer;","import React from 'react';\r\n\r\nimport CollectionItem from '../../components/collection-item/collection-item.component';\r\nimport './collection.style.scss'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { selectCollection } from '../../redux/shop/shop.selector';\r\n\r\n\r\nconst CollectionPage = ({ collection }) => {\r\n    const { title, items } = collection;\r\n    return (\r\n        <div className='collection-page'>\r\n            <h2 className='title'>{title}</h2>\r\n            <div className='items'>\r\n                {items.map(item => (\r\n                    <CollectionItem key={item.id} item={item} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n// ownProps is the props that created by Router component in shop.component which include history, location, and match\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    collection: selectCollection(ownProps.match.params.collectionId)(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(CollectionPage);","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { selectIsCollectionsLoaded } from '../../redux/shop/shop.selector';\r\nimport WithSpinner from '../../components/with-spinner/with-spinner.component';\r\n\r\nimport CollectionPage from '../collection/collection.component';\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isLoading: (state) => !selectIsCollectionsLoaded(state)\r\n});\r\n\r\nconst CollectionPageContainer = compose(\r\n    connect(mapStateToProps),\r\n    WithSpinner\r\n)(CollectionPage);\r\n\r\nexport default CollectionPageContainer;","import React, { useEffect } from 'react'\r\nimport './shop.style.scss'\r\n\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchCollectionsStart } from '../../redux/shop/shop.action';\r\n\r\nimport CollectionsOverviewContainer from '../../components/collection-overview/collection-overview.container';\r\nimport CollectionPageContainer from '../collection/collection.container';\r\n\r\n\r\nconst ShopPage = ({ fetchCollectionsStart, match }) => {\r\n\r\n    useEffect(() => {\r\n        fetchCollectionsStart();\r\n    }, [fetchCollectionsStart]);\r\n\r\n    return (\r\n        <div className='shop-page'>\r\n            <Route\r\n                exact\r\n                path={`${match.path}`}\r\n                component={CollectionsOverviewContainer}\r\n            />\r\n            <Route\r\n                path={`${match.path}/:collectionId`}\r\n                component={CollectionPageContainer}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchCollectionsStart: () => dispatch(fetchCollectionsStart())\r\n})\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(ShopPage);","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgShoppingBag(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 407.453 407.453\",\n    style: {\n      enableBackground: \"new 0 0 407.453 407.453\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#010002\"\n    },\n    d: \"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShoppingBag);\nexport default __webpack_public_path__ + \"static/media/shopping-bag.a688874f.svg\";\nexport { ForwardRef as ReactComponent };","import { createSelector } from \"reselect\";\r\n\r\n// cart is a part of state\r\nconst selectCart = state => state.cart;\r\n\r\nexport const selectCartItems = createSelector(\r\n    [selectCart], // the collection taking from the rootReducer, in here is the cart object in rootReducer which has cart, user, ...\r\n    (cart) => cart.cartItems  // return value\r\n);\r\n\r\nexport const selectCartHidden = createSelector(\r\n    [selectCart],\r\n    cart => cart.hidden\r\n);\r\n\r\nexport const selectCartItemsCount = createSelector(\r\n    [selectCartItems], // the collection of cartItems taking form selectCartItems\r\n    cartItems => cartItems.reduce(\r\n        (accumalatedQuantity, cartItem) => \r\n        accumalatedQuantity + cartItem.quantity, \r\n        0)\r\n);\r\n\r\nexport const selectCartTotal = createSelector(\r\n    [selectCartItems],\r\n    cartItems => cartItems.reduce(\r\n        (accumalatedQuantity, cartItem) => \r\n        accumalatedQuantity + cartItem.quantity * cartItem.price, \r\n        0)\r\n)","import React from 'react'\r\n\r\nimport { ReactComponent as ShoppingIcon } from '../../assets/shopping-bag.svg'\r\n\r\nimport './cart-icon.style.scss'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { toggleCartHidden } from '../../redux/cart/cart.action';\r\n\r\n// itemCounts For memorize \r\nimport { selectCartItemsCount } from '../../redux/cart/cart.selectors';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nconst CartIcon = ({ toggleCartHidden, itemCount }) => (\r\n    <div className='cart-icon' onClick={toggleCartHidden}>\r\n        <ShoppingIcon className='shopping-icon' />\r\n        <span className='item-count'>{itemCount}</span>\r\n    </div>\r\n);\r\n\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    toggleCartHidden: () => dispatch(toggleCartHidden())\r\n})\r\n\r\n// Remember cartItems is an object so put in {}\r\n// createStructuredSelector will automatically add state to the function from selector exmple: selectCartItemsCount(state)\r\nconst mapStateToProps = createStructuredSelector({\r\n    itemCount: selectCartItemsCount\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartIcon);","import React from 'react'\r\n\r\nimport './cart-item.style.scss'\r\n\r\nconst CartItem = ({ item: { imageUrl, price, name, quantity } }) => (\r\n    <div className='cart-item'>\r\n        <img src={imageUrl} alt='item' />\r\n        <div className='item-details'>\r\n            <span className='name'>{name}</span>\r\n            <span className='price'>{quantity} x ${price}</span>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default CartItem;","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport CartItem from '../cart-item/cart-item.component';\r\n\r\nimport { selectCartItems } from '../../redux/cart/cart.selectors';\r\n\r\nimport './cart-dropdown.style.sass';\r\nimport { toggleCartHidden } from '../../redux/cart/cart.action';\r\n\r\n\r\nconst CartDropDown = ({ cartItems, history, dispatch }) => (\r\n    <div className='cart-dropdown'>\r\n        <div className='cart-items'>\r\n            {\r\n                cartItems.length ?\r\n                    (cartItems.map(cartItem => <CartItem key={cartItem.id} item={cartItem} />))\r\n                    :\r\n                    (<span className='empty-message'>Your cart is empty</span>)\r\n            }\r\n        </div>\r\n\r\n        <CustomButton onClick={() => {\r\n            history.push('/checkout');\r\n            dispatch(toggleCartHidden());\r\n        }}>\r\n            GO TO CHECKOUT\r\n        </CustomButton>\r\n\r\n    </div>\r\n)\r\n\r\n// Rememeber the name not capital first\r\nconst mapStateToProps = createStructuredSelector({\r\n    cartItems: selectCartItems\r\n})\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(CartDropDown));","import { createSelector } from \"reselect\";\r\n\r\n// state here is rootReduer => take the user object therefore, state.user\r\nconst selectUser = state => state.user;\r\n\r\nexport const selectCurrentUser = createSelector(\r\n    [selectUser],\r\n    (user) => user.currentUser\r\n    //(user) is the the user in the object of rootReducer \r\n);\r\n\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport const HeaderContainer = styled.div`\r\n    height: 70px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 25px;\r\n`;\r\n\r\nexport const LogoContainer = styled(Link)`\r\n      height: 100%;\r\n      width: 70px;\r\n      padding: 25px;\r\n`;\r\n\r\nexport const OptionsContainer = styled.div` \r\n      width: 50%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: flex-end;\r\n  \r\n`;\r\n\r\nexport const OptionLink = styled(Link)`\r\n    padding: 10px 15px;\r\n    cursor: pointer;\r\n`;\r\n","const UserActionTypes = {\r\n    SET_CURRENT_USER : 'SET_CURRENT_USER',\r\n    \r\n    GOOGLE_SIGN_IN_START: 'GOOGLE_SIGN_IN_START',\r\n    EMAIL_SIGN_IN_START: 'EMAIL_SIGN_IN_START',\r\n    SIGN_IN_SUCCESS: 'SIGN_IN_SUCCESS',\r\n    SIGN_IN_FAILURE: 'SIGN_IN_FAILURE',\r\n    \r\n    CHECK_USER_SESSION: 'CHECK_USER_SESSION',\r\n    \r\n    SIGN_OUT_START: 'SIGN_OUT_START',\r\n    SIGN_OUT_SUCCESS: 'SIGN_OUT_SUCCESS',\r\n    SIGN_OUT_FAILURE: 'SIGN_OUT_FAILURE',\r\n\r\n    SIGN_UP_START: 'SIGN_UP_START',\r\n    SIGN_UP_SUCCESS: 'SIGN_UP_SUCCESS',\r\n    SIGN_UP_FAILURE: 'SIGN_UP_FAILURE',\r\n};\r\n\r\nexport default UserActionTypes;","import UserActionTypes from \"./user.type\";\r\n\r\n// SIGN IN\r\nexport const googleSignInStart = () => ({\r\n    type: UserActionTypes.GOOGLE_SIGN_IN_START\r\n});\r\n\r\nexport const emailSignInStart = (emailAndPassword) => ({\r\n    type: UserActionTypes.EMAIL_SIGN_IN_START,\r\n    payload: emailAndPassword\r\n});\r\n\r\nexport const signInSuccess = (user) => ({\r\n    type: UserActionTypes.SIGN_IN_SUCCESS,\r\n    payload: user\r\n});\r\n\r\nexport const signInFailure = (error) => ({\r\n    type: UserActionTypes.SIGN_IN_FAILURE,\r\n    payload: error\r\n});\r\n\r\n// CHECKING IS USER AUTHED\r\nexport const checkUserSession = () => ({\r\n    type: UserActionTypes.CHECK_USER_SESSION\r\n});\r\n\r\n// SIGN OUT\r\nexport const signOutStart = () => ({\r\n    type: UserActionTypes.SIGN_OUT_START\r\n});\r\n\r\nexport const signOutFailure = (error) => ({\r\n    type: UserActionTypes.SIGN_OUT_FAILURE,\r\n    payload: error\r\n});\r\n\r\nexport const signOutSuccess = () => ({\r\n    type: UserActionTypes.SIGN_OUT_SUCCESS\r\n});\r\n\r\n//SIGN UP\r\n\r\nexport const signUpStart = (userCredentials) => ({\r\n    type: UserActionTypes.SIGN_UP_START,\r\n    payload: userCredentials\r\n});\r\n\r\nexport const signUpSuccess = ({user, addtionalData}) => ({\r\n    type: UserActionTypes.SIGN_UP_SUCCESS,\r\n    payload: {user, addtionalData}\r\n});\r\n\r\nexport const signUpFailure = (error) => ({\r\n    type: UserActionTypes.SIGN_UP_FAILURE,\r\n    payload: error\r\n});","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { ReactComponent as Logo } from '../../assets/crown.svg';\r\n\r\nimport CartIcon from '../cart-icon/cart-icon.component';\r\nimport CartDropDown from '../cart/cart-dropdown.component';\r\n\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { selectCartHidden } from '../../redux/cart/cart.selectors';\r\nimport { selectCurrentUser } from '../../redux/user/user.selectors';\r\n\r\nimport { OptionsContainer, HeaderContainer, LogoContainer, OptionLink } from './header.style';\r\n\r\nimport { signOutStart } from '../../redux/user/user.action';\r\n\r\nconst Header = ({ currentUser, hidden, signOutStart }) => (\r\n    <HeaderContainer className='header'>\r\n        <LogoContainer to='/'>\r\n            <Logo className='logo' />\r\n        </LogoContainer>\r\n        <OptionsContainer >\r\n            <OptionLink to='/shop'>\r\n                SHOP\r\n            </OptionLink>\r\n            <OptionLink to='/shop'>\r\n                CONTACT\r\n            </OptionLink>\r\n            {\r\n                currentUser ?\r\n                    <OptionLink as='div' onClick={signOutStart}>SIGN OUT</OptionLink>\r\n                    :\r\n                    <OptionLink to='/signin'>SIGN IN</OptionLink>\r\n            }\r\n            <CartIcon />\r\n        </OptionsContainer>\r\n        {hidden ? null : <CartDropDown />}\r\n\r\n    </HeaderContainer>\r\n)\r\n\r\n// State is the top level of rootReducer or we can decompose the value in rootReducer and take\r\n// the props we need, for example currentUser from user in rootReducer ( which will return userReducer.state)\r\n\r\n// createStructuredSelector will help to pass the state (the rootReducer) to the functions (selectCurrentUser,...) \r\nconst mapStateToProps = createStructuredSelector({\r\n    currentUser: selectCurrentUser,\r\n    hidden: selectCartHidden\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    signOutStart: () => dispatch(signOutStart())\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React from 'react';\r\n\r\nimport './form-input.style.scss';\r\n\r\nconst FormInput = ({ handleChange, label, ...otherProps }) => (\r\n    <div className=\"group\">\r\n        <input className='form-input' onChange={handleChange} {...otherProps} />\r\n        {\r\n            label ?\r\n                (<label className={`${otherProps.value.length ? 'shrink' : ''} form-input-label`}>\r\n                    {label}\r\n                </label>)\r\n                : null\r\n        }\r\n    </div>\r\n)\r\n\r\nexport default FormInput;","import React, { useState } from 'react';\r\n\r\nimport './sign-in.style.scss';\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport { googleSignInStart, emailSignInStart } from '../../redux/user/user.action';\r\n\r\nconst SignIn = ({ emailSignInStart, googleSignInStart }) => {\r\n\r\n    const [userCredentials, setCredentitals] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    const { email, password } = userCredentials;\r\n\r\n    const handleSubmit = async event => {\r\n        event.preventDefault();\r\n        emailSignInStart(email, password);\r\n    }\r\n\r\n    const handelChange = event => {\r\n        const { value, name } = event.target;\r\n        setCredentitals({ ...userCredentials, [name]: value })\r\n    }\r\n\r\n    return (\r\n        <div className='sign-in'>\r\n            <h2 className='title'> I already have an account</h2>\r\n            <span> Sign in with your email and password</span>\r\n            <form onSubmit={handleSubmit}>\r\n                <FormInput\r\n                    name='email'\r\n                    type='email'\r\n                    value={email}\r\n                    handleChange={handelChange}\r\n                    label='Email'\r\n                    required\r\n                />\r\n                <FormInput\r\n                    name='password'\r\n                    type='password'\r\n                    value={password}\r\n                    handleChange={handelChange}\r\n                    label='Password'\r\n                    required\r\n                />\r\n                <div className='buttons'>\r\n                    <CustomButton type='submit' >SIGN IN</CustomButton>\r\n                    {/* isGoogleSignIn pass true as arg */}\r\n                    <CustomButton\r\n                        onClick={googleSignInStart}\r\n                        type=\"button\"\r\n                        isGoogleSignIn\r\n                    >\r\n                        SIGN IN WITH GOOGLE\r\n                    </CustomButton>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    googleSignInStart: () => dispatch(googleSignInStart()),\r\n    emailSignInStart: (email, password) =>\r\n        dispatch(emailSignInStart({ email, password }))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(SignIn);","import React, { useState } from 'react';\r\n\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\n\r\nimport './sign-up.style.scss'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { signUpStart } from '../../redux/user/user.action';\r\n\r\nconst SignUp = ({ signUpStart }) => {\r\n\r\n    const [userCredentials, setCredentials] = useState({\r\n        displayName: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n\r\n    const { displayName, email, password, confirmPassword } = userCredentials;\r\n\r\n    const handleSubmit = async event => {\r\n        event.preventDefault();\r\n\r\n        const { displayName, email, password, confirmPassword } = this.state;\r\n\r\n        if (password.length < 8 || password.length > 25) {\r\n            alert(\"Your password must be between 8 to 25 chacters. The one you entered had \" + password.length + \" characters\");\r\n            return;\r\n        }\r\n\r\n        if (password !== confirmPassword) {\r\n            alert(\"Password do not match\");\r\n            return;\r\n        }\r\n\r\n        signUpStart({ email, password, displayName });\r\n\r\n\r\n    }\r\n\r\n    const handleChange = event => {\r\n        const { name, value } = event.target;\r\n        setCredentials({ ...userCredentials, [name]: value })\r\n    }\r\n\r\n    return (\r\n        <div className='sign-up'>\r\n            <h2 className='title'>I do not have a account</h2>\r\n            <span>Sign up with your email and password</span>\r\n            <form className='sign-up-form' onSubmit={handleSubmit}>\r\n                <FormInput\r\n                    type='text'\r\n                    name='displayName'\r\n                    value={displayName}\r\n                    onChange={handleChange}\r\n                    label='Display Name'\r\n                    required\r\n                />\r\n\r\n                <FormInput\r\n                    type='email'\r\n                    name='email'\r\n                    value={email}\r\n                    onChange={handleChange}\r\n                    label='Email'\r\n                    required\r\n                />\r\n\r\n                <FormInput\r\n                    type='password'\r\n                    name='password'\r\n                    value={password}\r\n                    onChange={handleChange}\r\n                    label='Password'\r\n                    required\r\n                />\r\n\r\n                <FormInput\r\n                    type='password'\r\n                    name='confirmPassword'\r\n                    value={confirmPassword}\r\n                    onChange={handleChange}\r\n                    label='Confirm Password'\r\n                    required\r\n                />\r\n                <CustomButton type='submit'>\r\n                    SIGN UP\r\n                </CustomButton>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    signUpStart: (userCredentials) =>\r\n        dispatch(signUpStart(userCredentials))\r\n})\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(SignUp);","import React from 'react'\r\n\r\nimport './sign-in-and-sign-up.style.scss'\r\nimport SignIn from '../sign-in/sign-in.component';\r\nimport SignUp from '../sign-up/sign-up.component';\r\n\r\n\r\n\r\n\r\nconst SignInAndSignUpPage = () => (\r\n    <div className='sign-in-and-sign-up'>\r\n        <SignIn />\r\n        <SignUp />\r\n    </div>\r\n);\r\n\r\nexport default SignInAndSignUpPage;","import React from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { clearItemFromCart, addItem, removeItem } from '../../redux/cart/cart.action';\r\n\r\nimport './checkout-item.style.scss'\r\n\r\nconst CheckoutItem = ({ cartItem, clearItem, addItem, removeItem }) => {\r\n\r\n    const { name, price, imageUrl, quantity } = cartItem;\r\n\r\n    return (\r\n        <div className='checkout-item'>\r\n            <div className='image-container'>\r\n                <img src={imageUrl} alt='item' />\r\n            </div>\r\n            <span className='name'>{name}</span>\r\n            <span className='quantity'>\r\n                <div className='arrow' onClick={() => removeItem(cartItem)}>&#10094;</div>\r\n                <span className='value'> {quantity}</span>\r\n                <div className='arrow' onClick={() => addItem(cartItem)}>&#10095;</div>\r\n            </span>\r\n            <span className='price'>{price}</span>\r\n            <div className='remove-button' onClick={() => clearItem(cartItem)}>&#10005;</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapDispathToProps = dispatch => ({\r\n    clearItem: item => dispatch(clearItemFromCart(item)),\r\n    addItem: item => dispatch(addItem(item)),\r\n    removeItem: item => dispatch(removeItem(item))\r\n});\r\n\r\nexport default connect(null, mapDispathToProps)(CheckoutItem);","import React from \"react\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport axios from \"axios\";\r\n\r\nconst StripeCheckoutButton = ({ price }) => {\r\n  const priceForStripe = price * 100;\r\n  const publishableKey =\r\n    \"pk_test_51JfCedLsUVr0vuHrTjpIFEmNUtibIpazyAiTKGEdjAXlQ8FmlD7OGDu61J6ZIMsr5TYY7XgKBYKjLpqxETJR4Byc00wBZYoaG6\";\r\n\r\n  const onToken = (token) => {\r\n    axios({\r\n      url: \"payment\",\r\n      method: \"post\",\r\n      data: {\r\n        amount: priceForStripe,\r\n        token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        alert(\"Payment successful\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Payment error: \", JSON.price(error));\r\n        alert(\r\n          \"There was an issue with your payment. Please sure you use the provided credit card\"\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <StripeCheckout\r\n      label=\"Pay Now\"\r\n      name=\"CRWN Clothing Ltd.\"\r\n      billingAddress\r\n      shippingAddress\r\n      image=\"https://svgshare.com/i/CUz.svg\"\r\n      description={`Your total is $${price}`}\r\n      amount={priceForStripe}\r\n      panelLabel=\"Pay Now\"\r\n      token={onToken}\r\n      stripeKey={publishableKey}\r\n    />\r\n  );\r\n};\r\n\r\nexport default StripeCheckoutButton;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { selectCartItems, selectCartTotal } from '../../redux/cart/cart.selectors';\r\n\r\nimport CheckoutItem from '../../components/checkout-item/checkout-item.component';\r\nimport StripeCheckoutButton from '../../components/stripe-button/stripe-button.component';\r\n\r\nimport './checkout.style.scss';\r\n\r\nconst CheckoutPage = ({ cartItems, total }) => (\r\n    <div className='checkout-page'>\r\n        <div className='checkout-header'>\r\n            <div className='header-block'>\r\n                <span>Product</span>\r\n            </div>\r\n            <div className='header-block'>\r\n                <span>Description</span>\r\n            </div>\r\n            <div className='header-block'>\r\n                <span>Quantity</span>\r\n            </div>\r\n            <div className='header-block'>\r\n                <span>Price</span>\r\n            </div>\r\n            <div className='header-block'>\r\n                <span>Remove</span>\r\n            </div>\r\n        </div>\r\n        {\r\n            cartItems.map(cartItem => <CheckoutItem key={cartItem.id} cartItem={cartItem} />)\r\n        }\r\n        <div className='total'>\r\n            <span>TOTAL: ${total}</span>\r\n        </div>\r\n        <div className='test-warning'>\r\n            *Please use the following test credit card for payments*\r\n            <br />\r\n            4242 4242 4242 4242 - EXP: 2/25 - CVV: 241\r\n        </div>\r\n        <StripeCheckoutButton price={total} />\r\n    </div>\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    cartItems: selectCartItems,\r\n    total: selectCartTotal\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(CheckoutPage);","import React, { useEffect } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport { createStructuredSelector } from \"reselect\";\n// Pages\nimport HomePage from \"./pages/homepage/homepage.component\";\nimport ShopPage from \"./pages/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignInAndSignUpPage from \"./components/signin-and-signout/sign-in-and-sign-up.component\";\nimport CheckoutPage from \"./pages/checkout/checkout.component\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\nimport { checkUserSession } from \"./redux/user/user.action\";\n\nconst App = ({ checkUserSession, currentUser }) => {\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession]);\n\n  return (\n    <div>\n      <Header />\n      <Switch>\n        {/* Exact is used when the user type only ab.com/(nothing here), otherwise Switch will render all the route in it */}\n        {/* Switch only render the first match url in the list of route, if abc.com/sadds -> only render abc.com/ (exact if off)\n        , otherwise it will render all the matching page both abc.com/sadds and abc.com/ */}\n        {/* Route will render the component passing in the component={COMPONENT} with 3 props history, match, location  */}\n        <Route exact path=\"/\" component={HomePage} />\n        <Route path=\"/shop\" component={ShopPage} />\n        <Route exact path=\"/checkout\" component={CheckoutPage} />\n\n        <Route\n          exact\n          path=\"/signin\"\n          render={() =>\n            currentUser ? <Redirect to=\"/\" /> : <SignInAndSignUpPage />\n          }\n        />\n      </Switch>\n    </div>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  checkUserSession: () => dispatch(checkUserSession()),\n});\n\n// null because the App does not need the props from Reducer, the second arg is used to let \"user state\" to use inside the App component\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import  UserActionTypes from \"./user.type\";\r\n\r\n\r\nconst INITIAL_STATE = {\r\n    currentUser: null,\r\n    error: null\r\n}\r\n\r\nconst userReducer = (state = INITIAL_STATE, action) =>  {\r\n    switch (action.type){\r\n        case UserActionTypes.SIGN_IN_SUCCESS:\r\n            return {\r\n                // All props + new value of currentUser\r\n                ...state,\r\n                // payload will be user attribute receiving from the firebase\r\n                currentUser : action.payload,\r\n                error: null\r\n            };\r\n        case UserActionTypes.SIGN_OUT_SUCCESS:\r\n            return{\r\n                ...state,\r\n                currentUser: null,\r\n                error: null\r\n            };\r\n        case UserActionTypes.SIGN_IN_FAILURE:\r\n        case UserActionTypes.SIGN_OUT_FAILURE:\r\n        case UserActionTypes.SIGN_UP_FAILURE:\r\n            return{\r\n                ...state,\r\n                error: action.payload\r\n            };\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default userReducer","export const addItemToCart = (cartItems, cartItemToAdd) => {\r\n    const existingCartItem = cartItems.find(cartItem => cartItem.id === cartItemToAdd.id);\r\n\r\n    if (existingCartItem){\r\n        return cartItems.map(cartItem => \r\n            cartItem.id === cartItemToAdd.id ? {...cartItem, quantity: cartItem.quantity + 1} : cartItem\r\n        )\r\n    }\r\n    // we first initial return the first added item\r\n    return [...cartItems, {...cartItemToAdd, quantity: 1}]\r\n} \r\n\r\nexport const removeItemFromCart = (cartItems, cartItemToRemove) => {\r\n    const existingCartItem = cartItems.find(\r\n        cartItem => cartItem.id === cartItemToRemove.id\r\n    )\r\n\r\n    if (existingCartItem.quantity === 1){\r\n        return cartItems.filter(cartItem => cartItem.id !== cartItemToRemove.id);\r\n    }\r\n\r\n    return cartItems.map(\r\n        cartItem => \r\n        cartItem.id === cartItemToRemove.id ? \r\n        {...cartItem, quantity: cartItem.quantity - 1}\r\n        : cartItem\r\n    );\r\n\r\n\r\n}\r\n","import CartActionTypes from \"./cart.type\";\r\nimport { addItemToCart, removeItemFromCart } from \"./cart.utils\";\r\n\r\nconst INITIAL_STATE = {\r\n    hidden: true,\r\n    cartItems: []\r\n}\r\n\r\nconst cartReducer = (state = INITIAL_STATE, action) => {\r\n    switch (action.type){\r\n        case CartActionTypes.TOGGLE_CART_HIDDEN:\r\n            return{\r\n                ...state,\r\n                hidden: !state.hidden\r\n            };\r\n        case CartActionTypes.ADD_ITEM:\r\n            return{\r\n                ...state,\r\n                cartItems: addItemToCart(state.cartItems, action.payload)\r\n            };\r\n        case CartActionTypes.REMOVE_ITEM:\r\n            return{\r\n                ...state,\r\n                cartItems: removeItemFromCart(state.cartItems, action.payload)\r\n            };\r\n        case CartActionTypes.CLEAR_ITEM_FROM_CART:\r\n            return{\r\n                ...state,\r\n                // Return true if the id of item is not match with the item from action\r\n                // Otherwise will delete\r\n                cartItems: state.cartItems.filter(cartItem => cartItem.id !== action.payload.id )\r\n            };\r\n        case CartActionTypes.CLEAR_CART:\r\n            return{\r\n                ...state,\r\n                cartItems: []\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cartReducer;\r\n","const INITIAL_STATE = {\r\n\r\n    sections : [\r\n      {\r\n        title: 'hats',\r\n        imageUrl: 'https://i.ibb.co/cvpntL1/hats.png',\r\n        id: 1,\r\n        linkUrl: 'shop/hats'\r\n      },\r\n      {\r\n        title: 'jackets',\r\n        imageUrl: 'https://i.ibb.co/px2tCc3/jackets.png',\r\n        id: 2,\r\n        linkUrl: 'shop/jackets'\r\n      },\r\n      {\r\n        title: 'sneakers',\r\n        imageUrl: 'https://i.ibb.co/0jqHpnp/sneakers.png',\r\n        id: 3,\r\n        linkUrl: 'shop/sneakers'\r\n      },\r\n      {\r\n        title: 'womens',\r\n        imageUrl: 'https://i.ibb.co/GCCdy8t/womens.png',\r\n        size: 'large',\r\n        id: 4,\r\n        linkUrl: 'shop/womens'\r\n      },\r\n      {\r\n        title: 'mens',\r\n        imageUrl: 'https://i.ibb.co/R70vBrQ/men.png',\r\n        size: 'large',\r\n        id: 5,\r\n        linkUrl: 'shop/mens'\r\n      }\r\n    ]\r\n}\r\n\r\nconst directoryReducer = (state = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default directoryReducer;","import ShopActionTypes from './shop.type';\r\n\r\n\r\nconst INITIAL_STATE = {\r\n    collections: null,\r\n    isFetching: false,\r\n    errorMessage: undefined\r\n};\r\n\r\n\r\nconst shopReducer = (state=INITIAL_STATE, action) => {\r\n    switch (action.type){\r\n        case ShopActionTypes.FETCH_COLLECTIONS_START:\r\n            return{\r\n                ...state,\r\n                isFetching: true\r\n            };\r\n        case ShopActionTypes.FETCH_COLLECTIONS_SUCCESS:\r\n            return{\r\n                ...state,\r\n                isFetching: false,\r\n                collections: action.payload\r\n            };\r\n        case ShopActionTypes.FETCH_COLLECTIONS_FAILURE:\r\n            return{\r\n                ...state,\r\n                isFetching: false,\r\n                errorMessage: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport default shopReducer;","import { combineReducers } from \"redux\";\r\n\r\n// For cache saving on machine\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport userReducer from \"./user/user.reducer\";\r\nimport cartReducer from \"./cart/cart.reducer\";\r\nimport directoryReducer from \"./directory/directory.reducer\";\r\nimport shopReducer from \"./shop/shop.reducer\";\r\n// Root reducer is an object that has user pointing to userReducer\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: ['cart'] //the only reducer we want to save (we can add more)\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer,\r\n    cart: cartReducer,\r\n    directory: directoryReducer,\r\n    shop: shopReducer\r\n});\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDwmX92GhptTY_UOTYa0RmznFDMjQ8CYkM\",\r\n    authDomain: \"crwn-db-85ea7.firebaseapp.com\",\r\n    projectId: \"crwn-db-85ea7\",\r\n    storageBucket: \"crwn-db-85ea7.appspot.com\",\r\n    messagingSenderId: \"836430678874\",\r\n    appId: \"1:836430678874:web:2c9846048bb02cf5480163\",\r\n    measurementId: \"G-144Y0SJ5F1\"\r\n};\r\n\r\nexport const createUserProfileDocument = async (userAuth, additionalData) => {\r\n    \r\n    if(!userAuth) { return; }\r\n\r\n    const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n\r\n    const snapShot = await userRef.get();\r\n\r\n    if(!snapShot.exists){\r\n        const {displayName, email } = userAuth;\r\n        const createdAt = new Date();\r\n\r\n        try{\r\n            await userRef.set({\r\n                displayName,\r\n                email,\r\n                createdAt,\r\n                ...additionalData\r\n            })\r\n        }catch (error){\r\n            console.log('Error creating user', error.message)\r\n        }\r\n    }\r\n\r\n    return userRef;\r\n}\r\n\r\nexport const addCollectionAndDocuments = async (collectionKey, objectToAdd) => {\r\n    const collectionRef = firestore.collection(collectionKey);\r\n    console.log(collectionRef);\r\n\r\n    const batch = firestore.batch();\r\n    objectToAdd.forEach(obj => {\r\n        const newDocRef = collectionRef.doc();\r\n        batch.set(newDocRef, obj);\r\n    });\r\n\r\n    return batch.commit();\r\n\r\n};\r\n\r\nexport const convertCollectionsSnapshotToMap = (collections) => {\r\n    // We will retrieve the collections on Firestore and loop to get the data of each\r\n    const transformedCollection = collections.docs.map(doc => {\r\n        const {title, items} = doc.data();\r\n        // return the object the contain valueable info\r\n        return {\r\n            routeName: encodeURI(title.toLowerCase()),\r\n            id: doc.id,\r\n            title, \r\n            items\r\n        };\r\n    });\r\n\r\n    return transformedCollection.reduce((accumulator, collection) => {\r\n        accumulator[collection.title.toLowerCase()] = collection;\r\n        return accumulator;\r\n        // begining with empty hashmap, then accumulate the name + collection then return\r\n     },{});\r\n\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n    return new Promise((resolve, reject) => {\r\n        const unsubscribe = auth.onAuthStateChanged(userAuth => {\r\n            unsubscribe();\r\n            resolve(userAuth);\r\n        }, reject)\r\n    })\r\n}\r\n\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({propmt:'select_account'});\r\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider)\r\n\r\nexport default firebase;\r\n\r\n","import {takeLatest , call, put, all} from 'redux-saga/effects'; \r\n\r\nimport { firestore, convertCollectionsSnapshotToMap } from \"../../firebase/filebase.utils\";\r\n\r\nimport {\r\n    fetchCollectionsSuccess,\r\n    fetchCollectionsFailure\r\n} from './shop.action';\r\n\r\nimport ShopActionTypes from './shop.type';\r\n\r\nexport function* fetchCollectionsAsync(){\r\n    yield console.log('I am fired');\r\n\r\n        try{\r\n            // Get ref from collection\r\n            const collectionRef = firestore.collection('collections');\r\n            // Get snapshot from the collection and pass to the function to decompose to customized object \r\n            // that contain necessary information for front end\r\n\r\n            const snapshot = yield collectionRef.get();\r\n            const collectionsMap = yield call(convertCollectionsSnapshotToMap, snapshot);\r\n            yield put(fetchCollectionsSuccess(collectionsMap));\r\n\r\n        } catch (error) {\r\n            yield put(fetchCollectionsFailure(error.message));\r\n        }\r\n        \r\n}\r\n\r\n\r\n// takeEvery will take all the action fired even the previous actions \r\n// have yet terminated \r\nexport function* fetchCollectionsStart(){\r\n    yield takeLatest(\r\n        ShopActionTypes.FETCH_COLLECTIONS_START,\r\n        fetchCollectionsAsync\r\n    );\r\n}\r\n\r\nexport function* shopSagas(){\r\n    yield all([call(fetchCollectionsStart)]);\r\n}","import {takeLatest, all, call, put} from 'redux-saga/effects';\r\n\r\nimport UserActionTypes from './user.type';\r\n\r\nimport {auth, \r\n        googleProvider, \r\n        createUserProfileDocument,\r\n        getCurrentUser\r\n} from '../../firebase/filebase.utils';\r\n\r\nimport { signInSuccess, \r\n         signInFailure,\r\n         signOutSuccess,\r\n         signOutFailure,\r\n         signUpSuccess,\r\n         signUpFailure\r\n} from './user.action';\r\n\r\n\r\nexport function* getSnapshotFromUserAuth(userAuth, addtionalData){\r\n    try{\r\n        const userRef = yield call(createUserProfileDocument, userAuth, addtionalData);\r\n        const userSnapShot = yield userRef.get();\r\n        // put means dispatching new actions\r\n        yield put(\r\n            signInSuccess({id:userSnapShot.id, ...userSnapShot.data()})\r\n        );\r\n    }catch(error){\r\n        yield put(signInFailure(error));\r\n    }\r\n}\r\n\r\nexport function* signInWithGoole(){\r\n    try{\r\n        const {user} = yield auth.signInWithPopup(googleProvider);\r\n        yield getSnapshotFromUserAuth(user);\r\n    }catch(error){\r\n        yield put(signInFailure(error));\r\n    }\r\n}\r\n\r\nexport function* signInWithEmail({payload:{email, password}}){\r\n    try{\r\n        const {user} = yield auth.signInWithEmailAndPassword(email, password);\r\n        yield getSnapshotFromUserAuth(user);\r\n    }catch(error){\r\n        yield put(signInFailure(error))\r\n    } \r\n}\r\n\r\nexport function* isUserAuthenticated(){\r\n    try{\r\n        const userAuth = yield getCurrentUser();\r\n        if(!userAuth) return;\r\n        yield getSnapshotFromUserAuth(userAuth);\r\n    }catch(error){\r\n        yield put(signInFailure(error))\r\n    }\r\n}\r\n\r\nexport function* signOut(){\r\n    try{\r\n        yield auth.signOut();\r\n        yield (put(signOutSuccess()));\r\n    }catch(error){\r\n        yield put(signOutFailure(error));\r\n    }\r\n}\r\n\r\nexport function* signUp({payload:{email, password, displayName}}){\r\n    try {\r\n        const { user } = yield auth.createUserWithEmailAndPassword(email, password);\r\n        yield put(\r\n            signUpSuccess({user, addtionalData:{displayName}})\r\n        );\r\n    } catch (error) {\r\n        yield put(signUpFailure(error))\r\n    }\r\n}\r\n\r\nexport function* signInAfterSignUp({payload:{user, addtionalData}}){\r\n    yield getSnapshotFromUserAuth(user, addtionalData);\r\n}\r\n\r\n// ON FUNCTION\r\n\r\nexport function* onGoolgeSignInStart() {\r\n    yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInWithGoole)\r\n}\r\n\r\nexport function* onEmailSignInStart(){\r\n    yield takeLatest(UserActionTypes.EMAIL_SIGN_IN_START, signInWithEmail )\r\n}\r\n\r\nexport function* onCheckUserSession(){\r\n    yield takeLatest(UserActionTypes.CHECK_USER_SESSION, isUserAuthenticated)\r\n}\r\n\r\nexport function* onSignOutStart(){\r\n    yield takeLatest(UserActionTypes.SIGN_OUT_START, signOut)\r\n}\r\n\r\nexport function* onSignUpStart(){\r\n    yield takeLatest(UserActionTypes.SIGN_UP_START, signUp)\r\n}\r\n\r\nexport function* onSignUpSuccess(){\r\n    yield takeLatest(UserActionTypes.SIGN_UP_SUCCESS, signInAfterSignUp)\r\n}\r\n\r\n// Remember put all call() functions in the []\r\nexport function* userSagas(){\r\n    yield all([call(onGoolgeSignInStart), \r\n               call(onEmailSignInStart), \r\n               call(isUserAuthenticated),\r\n               call(onSignOutStart),\r\n               call(onSignUpStart),\r\n               call(onSignUpSuccess),\r\n               \r\n            ]);\r\n}\r\n\r\n","import {all, call, takeLatest, put} from 'redux-saga/effects';\r\n\r\nimport UserActionTypes from '../user/user.type';\r\nimport { clearCart } from './cart.action';\r\n\r\n\r\nexport function* clearCartOnSignOut(){\r\n    yield put(clearCart());\r\n}\r\n\r\nexport function* onSignOutSuccess() {\r\n    yield takeLatest(UserActionTypes.SIGN_OUT_SUCCESS, clearCartOnSignOut);\r\n}\r\n\r\n\r\nexport function* cartSagas(){\r\n    yield all([call(onSignOutSuccess)]);\r\n}","import {all, call} from 'redux-saga/effects';\r\n\r\nimport { shopSagas } from './shop/shop.sagas';\r\nimport { userSagas } from './user/user.sagas';\r\nimport { cartSagas } from './cart/cart.sagas';\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        call(shopSagas),\r\n        call(userSagas),\r\n        call(cartSagas)\r\n    ]);\r\n}","/* eslint-disable import/no-anonymous-default-export */\r\n// People use Redux middleware for logging, crash reporting, talking to an asynchronous API, routing, and more.\r\nimport {createStore, applyMiddleware } from 'redux';\r\n\r\n// Saving the cache\r\nimport { persistStore } from 'redux-persist';\r\n\r\n// Logger lets you replay problems as if they happened in your own browser\r\nimport logger from 'redux-logger';\r\n\r\n// // Thunk is for async calling\r\n// // import thunk from 'redux-thunk';\r\n\r\nimport createSagaMiddleware from 'redux-saga';\r\n\r\nimport rootReducer from './root-reducer';\r\n\r\nimport rootSaga from './root-saga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares = [sagaMiddleware]\r\n\r\n// if the env is dev push the logger, if the env is test and deployment not add logger\r\nif (process.env.NODE_ENV === 'development'){\r\n    middlewares.push(logger)\r\n}\r\n\r\n// Store can be considered as an database for all states\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default {store, persistor};\r\n\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n// Adding BrowserRouter to make multiple pages website\nimport { BrowserRouter } from \"react-router-dom\";\nimport { store, persistor } from './redux/store'\nimport { Provider } from 'react-redux';\n\n// For cache \nimport { PersistGate } from 'redux-persist/integration/react'\n\n\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <PersistGate persistor={persistor}>\n        <App />\n      </PersistGate>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}